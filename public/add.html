<script>
window.fbAsyncInit = function() {
    FB.init({
        appId: '1036179246446029',
        xfbml: true,
        version: 'v2.5'
    });
};

(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {
        return;
    }
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
<link rel="stylesheet" href="css/add-styles.css" />
<!-- new add design -->
<div class="col-md-8">
    <section id="last">
        <div class="container" class="paper floatLeft" ng-init="initFB()" flow-init flow-name="image.flow" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" ng-click="change()">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <h2 class="margin-top-0 wow fadeIn">Add Event</h2>
                    <hr class="primary">
                    <p>Add some events to your neighbors.</p>
                </div>
                <div class="col-lg-10 col-lg-offset-1 text-center">
                    <form class="contact-form row" name="addEventForm" ng-submit="submitForm(addEventForm.$valid)" novalidate>
                        <div class="col-md-6" class="form-group" ng-class="{'has-error': addEventForm.eventName.$invalid}">
                            <label>Event Name</label>
                            <input type="text" class="form-control" name="eventName" placeholder="e.g. Food Truck Friday" ng-model="newEvent.eventName" required>
                            <!-- alert when Event name is missing -->
                            <p ng-show="addEventForm.eventName.$invalid && addEventForm.eventName.$touched" class="help-block">Event name required</p>
                        </div>
                        <div class="col-md-6" class="form-group" ng-class="{'has-error': addEventForm.address.$invalid && addEventForm.address.$touched}">
                            <label>Street Address</label>
                            <input type="text" class="form-control" ng-model="newEvent.streetAddress" placeholder="e.g. 123 Main Street, Apt 1A" uib-typeahead="address for address in getLocation($viewValue)" typeahead-loading="loadingLocations" typeahead-no-results="noResults" class="form-control" name="address" required>
                            <!-- alert when street address is missing -->
                            <p ng-show="addEventForm.address.$invalid && addEventForm.address.$touched" class="help-block">Address required</p>
                            <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
                            <div ng-show="noResults">
                                <i class="glyphicon glyphicon-remove"></i> No Results Found
                            </div>
                </div>
                <!-- 2nd line -->
                <div class="col-md-4" class="form-group" ng-class="{'has-error': addEventForm.date.$invalid && addEventForm.date.$touched}">
                    <label>Start Date</label>
                    <input type="date" class="form-control" name="date" min="2016-02-22" placeholder="Date" required ng-model="newEvent.startDate">
                    <span class="help-block" ng-show="addEventForm.date.$invalid && addEventForm.date.$touched">Please enter a date</span>
                </div>
                <div class="col-md-4" class="form-group" ng-class="{'has-error': addEventForm.time.$invalid && addEventForm.time.$touched}">
                    <label>Time</label>
                    <input type="time" class="form-control" name="time" placeholder="Time" required ng-model="newEvent.time">
                    <span class="help-block" ng-show="addEventForm.time.$invalid && addEventForm.time.$touched">a start time required</span>
                </div>
                <div class="col-md-4" class="form-group">
                    <label>Tags</label>
                    <input type="text" class="form-control" name="tags" placeholder="#organic" ng-model="newEvent.tag">
                </div>
                <div class="col-md-12" class="form-group" ng-class="{'has-error': addEventForm.description.$invalid && addEventForm.description.$touched}">
                    <label>Event Description</label>
                    <textarea class="form-control" rows="9" name="description" placeholder="Description" required ng-model="newEvent.eventDescription"></textarea>
                    <span class="help-block" ng-show="addEventForm.description.$invalid && addEventForm.description.$touched">Please enter a description</span>
                </div>
                <div class="col-md-4">
                    <label></label>
                    <div id="dragDrop" flow-drop flow-attrs="{accept:'image/*'}" flow-drag-enter="style={border: '4px solid #6AEB81'}" flow-drag-leave="style={}" ng-style="style" />
                    <span>Drag an image here or </span>
                    <span id="selectImg" flow-attrs="{accept:'image/*'}" flow-btn />select image</span>
                </div>

<p class="grey">*images must be .png, .gif, .jpg, .jpeg</p>
<div class="btn btn-danger" ng-click="$flow.cancel()">Remove</div>
</div>
<div class="col-md-4">
    <div class="thumbnail" ng-show="$flow.files.length">
        <img flow-img="$flow.files[0]" />
    </div>
</div>
<div class="col-md-4">
    <label></label>
    <br>
    <br>
    <button type="submit" class="btn btn-primary btn-block btn-lg" ng-click="addEvent()" ng-disabled="addEventForm.$invalid">Submit <i class="ion-android-arrow-forward"></i></button>
</div>
</form>
</div>
</div>
</div>
</section>
</div>
